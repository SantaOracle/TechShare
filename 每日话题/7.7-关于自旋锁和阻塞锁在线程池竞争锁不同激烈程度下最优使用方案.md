## 关于自旋锁和阻塞锁在线程池竞争锁不同激烈程度下最优使用方案 ##

### 讨论成果： ###

&nbsp;&nbsp;我们最终的目的：让CPU将更多的运行时间用于跑业务代码

&nbsp;&nbsp;一个线程执行整个任务的流程，可以分为：

- 获取锁周期

- 持有锁周期

&nbsp;&nbsp;而我们执行业务代码是在线程持有锁的阶段，对于同一份业务代码来说，不同线程执行同段代码的执行时长主要是由业务数据量决定，但这其实与我们今天分析的问题没有太大关系，所以我们只分析获取锁周期的情况。

&nbsp;&nbsp;在获取锁周期阶段，阻塞锁拥有固定的获取锁周期时长（即无论线程竞争锁多激烈，阻塞锁获取锁的周期永远一致）；而自旋锁获取锁周期随线程竞争激烈程度增长而增加。在线程竞争锁不激烈的情况下，自旋锁普遍获取锁周期会比阻塞锁要短。

&nbsp;&nbsp;因此我们得出的一个结论是，在线程竞争锁不激烈的时候，使用自旋锁；竞争激烈的时候，使用阻塞锁。

### 参考资料： ###

&nbsp;&nbsp;<a href="http://blog.csdn.net/a314773862/article/details/54095819">自旋锁、阻塞锁、可重入锁、悲观锁、乐观锁、读写锁、偏向所、轻量级锁、重量级锁、锁膨胀、对象锁和类锁</a>

&nbsp;&nbsp;<a href="http://ifeve.com/java_lock_see3/">并发编程网-阻塞锁</a>